{"id":"node_modules/vega-lite/build/src/spec/toplevel.js","dependencies":[{"name":"/Users/franzfluckiger/Documents/Software/knot-diagram/node_modules/vega-lite/build/src/spec/toplevel.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/franzfluckiger/Documents/Software/knot-diagram/package.json","includedInParent":true,"mtime":1570375771013},{"name":"/Users/franzfluckiger/Documents/Software/knot-diagram/node_modules/vega-lite/build/package.json","includedInParent":true,"mtime":499162500000},{"name":"vega-util","loc":{"line":1,"column":25},"parent":"/Users/franzfluckiger/Documents/Software/knot-diagram/node_modules/vega-lite/build/src/spec/toplevel.js","resolved":"/Users/franzfluckiger/Documents/Software/knot-diagram/node_modules/vega-lite/node_modules/vega-util/index.js"},{"name":"../log","loc":{"line":2,"column":21},"parent":"/Users/franzfluckiger/Documents/Software/knot-diagram/node_modules/vega-lite/build/src/spec/toplevel.js","resolved":"/Users/franzfluckiger/Documents/Software/knot-diagram/node_modules/vega-lite/build/src/log/index.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.normalizeAutoSize = normalizeAutoSize;\nexports.extractTopLevelProperties = extractTopLevelProperties;\n\nvar _vegaUtil = require(\"vega-util\");\n\nvar log = _interopRequireWildcard(require(\"../log\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _normalizeAutoSize(autosize) {\n  return (0, _vegaUtil.isString)(autosize) ? {\n    type: autosize\n  } : autosize || {};\n}\n\nfunction normalizeAutoSize(topLevelAutosize, configAutosize, isUnitOrLayer = true) {\n  const autosize = Object.assign({\n    type: 'pad'\n  }, _normalizeAutoSize(configAutosize), _normalizeAutoSize(topLevelAutosize));\n\n  if (autosize.type === 'fit') {\n    if (!isUnitOrLayer) {\n      log.warn(log.message.FIT_NON_SINGLE);\n      autosize.type = 'pad';\n    }\n  }\n\n  return autosize;\n}\n\nconst TOP_LEVEL_PROPERTIES = ['background', 'padding' // We do not include \"autosize\" here as it is supported by only unit and layer specs and thus need to be normalized\n];\n\nfunction extractTopLevelProperties(t) {\n  return TOP_LEVEL_PROPERTIES.reduce((o, p) => {\n    if (t && t[p] !== undefined) {\n      o[p] = t[p];\n    }\n\n    return o;\n  }, {});\n}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":9,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":11,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":92,"column":0},"generated":{"line":15,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":92,"column":9},"generated":{"line":15,"column":9}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":92,"column":0},"generated":{"line":15,"column":27}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":92,"column":28},"generated":{"line":15,"column":28}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":92,"column":0},"generated":{"line":15,"column":36}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":92,"column":67},"generated":{"line":15,"column":38}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":93,"column":2},"generated":{"line":16,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":93,"column":9},"generated":{"line":16,"column":9}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":93,"column":18},"generated":{"line":16,"column":33}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":93,"column":9},"generated":{"line":16,"column":41}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":93,"column":30},"generated":{"line":16,"column":45}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":93,"column":31},"generated":{"line":17,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":93,"column":31},"generated":{"line":17,"column":4}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":93,"column":35},"generated":{"line":17,"column":8}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":93,"column":37},"generated":{"line":17,"column":10}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":93,"column":30},"generated":{"line":18,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":93,"column":9},"generated":{"line":18,"column":3}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":93,"column":49},"generated":{"line":18,"column":6}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":93,"column":57},"generated":{"line":18,"column":14}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":93,"column":61},"generated":{"line":18,"column":18}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":93,"column":2},"generated":{"line":18,"column":20}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":94,"column":1},"generated":{"line":19,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":96,"column":6},"generated":{"line":21,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":96,"column":16},"generated":{"line":21,"column":9}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":96,"column":6},"generated":{"line":21,"column":26}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":21,"column":27}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":96,"column":6},"generated":{"line":21,"column":43}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":98,"column":2},"generated":{"line":21,"column":45}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":96,"column":6},"generated":{"line":21,"column":59}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":99,"column":2},"generated":{"line":21,"column":61}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":99,"column":2},"generated":{"line":21,"column":74}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":99,"column":27},"generated":{"line":21,"column":77}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":96,"column":6},"generated":{"line":21,"column":81}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":99,"column":31},"generated":{"line":21,"column":83}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":101,"column":2},"generated":{"line":22,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":101,"column":8},"generated":{"line":22,"column":8}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":22,"column":16}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":22,"column":19}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":22,"column":25}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":22,"column":26}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":22,"column":32}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":22,"column":33}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":102,"column":4},"generated":{"line":23,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":102,"column":4},"generated":{"line":23,"column":4}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":102,"column":8},"generated":{"line":23,"column":8}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":102,"column":10},"generated":{"line":23,"column":10}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":24,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":24,"column":3}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":103,"column":7},"generated":{"line":24,"column":5}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":103,"column":25},"generated":{"line":24,"column":23}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":103,"column":26},"generated":{"line":24,"column":24}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":103,"column":25},"generated":{"line":24,"column":38}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":24,"column":39}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":104,"column":7},"generated":{"line":24,"column":41}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":104,"column":25},"generated":{"line":24,"column":59}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":104,"column":26},"generated":{"line":24,"column":60}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":104,"column":25},"generated":{"line":24,"column":76}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":24,"column":77}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":101,"column":2},"generated":{"line":24,"column":78}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":107,"column":2},"generated":{"line":26,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":107,"column":6},"generated":{"line":26,"column":6}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":107,"column":14},"generated":{"line":26,"column":14}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":107,"column":15},"generated":{"line":26,"column":15}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":107,"column":6},"generated":{"line":26,"column":19}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":107,"column":24},"generated":{"line":26,"column":24}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":107,"column":2},"generated":{"line":26,"column":29}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":107,"column":31},"generated":{"line":26,"column":31}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":108,"column":4},"generated":{"line":27,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":108,"column":8},"generated":{"line":27,"column":8}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":108,"column":9},"generated":{"line":27,"column":9}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":108,"column":4},"generated":{"line":27,"column":22}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":108,"column":24},"generated":{"line":27,"column":24}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":109,"column":6},"generated":{"line":28,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":109,"column":6},"generated":{"line":28,"column":6}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":109,"column":9},"generated":{"line":28,"column":9}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":109,"column":10},"generated":{"line":28,"column":10}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":109,"column":6},"generated":{"line":28,"column":14}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":109,"column":15},"generated":{"line":28,"column":15}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":109,"column":18},"generated":{"line":28,"column":18}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":109,"column":19},"generated":{"line":28,"column":19}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":109,"column":15},"generated":{"line":28,"column":26}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":109,"column":27},"generated":{"line":28,"column":27}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":109,"column":6},"generated":{"line":28,"column":41}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":110,"column":6},"generated":{"line":29,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":110,"column":6},"generated":{"line":29,"column":6}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":110,"column":14},"generated":{"line":29,"column":14}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":110,"column":15},"generated":{"line":29,"column":15}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":110,"column":6},"generated":{"line":29,"column":19}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":110,"column":22},"generated":{"line":29,"column":22}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":110,"column":6},"generated":{"line":29,"column":27}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":111,"column":5},"generated":{"line":30,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":112,"column":3},"generated":{"line":31,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":114,"column":2},"generated":{"line":33,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":114,"column":9},"generated":{"line":33,"column":9}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":114,"column":2},"generated":{"line":33,"column":17}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":115,"column":1},"generated":{"line":34,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":117,"column":0},"generated":{"line":36,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":117,"column":6},"generated":{"line":36,"column":6}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":117,"column":26},"generated":{"line":36,"column":26}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":117,"column":59},"generated":{"line":36,"column":29}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":118,"column":2},"generated":{"line":36,"column":30}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":117,"column":59},"generated":{"line":36,"column":42}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":119,"column":2},"generated":{"line":36,"column":44}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":117,"column":59},"generated":{"line":36,"column":53}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":120,"column":2},"generated":{"line":36,"column":54}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":117,"column":59},"generated":{"line":37,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":117,"column":0},"generated":{"line":37,"column":1}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":123,"column":6},"generated":{"line":39,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":123,"column":16},"generated":{"line":39,"column":9}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":123,"column":6},"generated":{"line":39,"column":34}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":123,"column":72},"generated":{"line":39,"column":35}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":123,"column":6},"generated":{"line":39,"column":36}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":123,"column":76},"generated":{"line":39,"column":38}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":124,"column":2},"generated":{"line":40,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":124,"column":9},"generated":{"line":40,"column":9}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":124,"column":29},"generated":{"line":40,"column":29}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":124,"column":30},"generated":{"line":40,"column":30}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":124,"column":9},"generated":{"line":40,"column":36}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":124,"column":37},"generated":{"line":40,"column":37}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":124,"column":38},"generated":{"line":40,"column":38}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":124,"column":37},"generated":{"line":40,"column":39}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":124,"column":41},"generated":{"line":40,"column":41}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":124,"column":37},"generated":{"line":40,"column":42}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":124,"column":46},"generated":{"line":40,"column":47}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":125,"column":4},"generated":{"line":41,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":125,"column":8},"generated":{"line":41,"column":8}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":125,"column":9},"generated":{"line":41,"column":9}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":125,"column":13},"generated":{"line":41,"column":13}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":125,"column":14},"generated":{"line":41,"column":14}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":125,"column":15},"generated":{"line":41,"column":15}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":125,"column":14},"generated":{"line":41,"column":16}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":125,"column":13},"generated":{"line":41,"column":17}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":125,"column":22},"generated":{"line":41,"column":22}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":125,"column":4},"generated":{"line":41,"column":31}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":125,"column":33},"generated":{"line":41,"column":33}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":126,"column":6},"generated":{"line":42,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":126,"column":6},"generated":{"line":42,"column":6}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":42,"column":7}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":126,"column":8},"generated":{"line":42,"column":8}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":42,"column":9}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":126,"column":6},"generated":{"line":42,"column":10}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":126,"column":13},"generated":{"line":42,"column":13}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":126,"column":14},"generated":{"line":42,"column":14}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":126,"column":15},"generated":{"line":42,"column":15}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":126,"column":14},"generated":{"line":42,"column":16}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":126,"column":6},"generated":{"line":42,"column":17}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":127,"column":5},"generated":{"line":43,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":128,"column":4},"generated":{"line":45,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":128,"column":11},"generated":{"line":45,"column":11}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":128,"column":4},"generated":{"line":45,"column":12}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":129,"column":3},"generated":{"line":46,"column":0}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":124,"column":9},"generated":{"line":46,"column":3}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":129,"column":5},"generated":{"line":46,"column":5}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":124,"column":9},"generated":{"line":46,"column":7}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":124,"column":2},"generated":{"line":46,"column":8}},{"source":"../../../src/spec/toplevel.ts","name":null,"original":{"line":130,"column":1},"generated":{"line":47,"column":0}}],"sources":{"../../../src/spec/toplevel.ts":"import {isString} from 'vega-util';\nimport {Config} from '../config';\nimport {InlineDataset} from '../data';\nimport * as log from '../log';\nimport {Dict} from '../util';\nimport {BaseSpec} from './index';\n\n/**\n * @minimum 0\n */\nexport type Padding = number | {top?: number; bottom?: number; left?: number; right?: number};\n\nexport type Datasets = Dict<InlineDataset>;\n\nexport type TopLevel<S extends BaseSpec> = S &\n  TopLevelProperties & {\n    /**\n     * URL to [JSON schema](http://json-schema.org/) for a Vega-Lite specification. Unless you have a reason to change this, use `https://vega.github.io/schema/vega-lite/v3.json`. Setting the `$schema` property allows automatic validation and autocomplete in editors that support JSON schema.\n     * @format uri\n     */\n    $schema?: string;\n\n    /**\n     * Vega-Lite configuration object.  This property can only be defined at the top-level of a specification.\n     */\n    config?: Config;\n\n    /**\n     * A global data store for named datasets. This is a mapping from names to inline datasets.\n     * This can be an array of objects or primitive values or a string. Arrays of primitive values are ingested as objects with a `data` property.\n     */\n    datasets?: Datasets;\n\n    /**\n     * Optional metadata that will be passed to Vega.\n     * This object is completely ignored by Vega and Vega-Lite and can be used for custom metadata.\n     */\n    usermeta?: object;\n  };\n\nexport interface TopLevelProperties {\n  /**\n   * CSS color property to use as the background of the entire view.\n   *\n   * __Default value:__ none (transparent)\n   */\n  background?: string;\n\n  /**\n   * The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle.  If a number, specifies padding for all sides.\n   * If an object, the value should have the format `{\"left\": 5, \"top\": 5, \"right\": 5, \"bottom\": 5}` to specify padding for each side of the visualization.\n   *\n   * __Default value__: `5`\n   */\n  padding?: Padding;\n\n  /**\n   * Sets how the visualization size should be determined. If a string, should be one of `\"pad\"`, `\"fit\"` or `\"none\"`.\n   * Object values can additionally specify parameters for content sizing and automatic resizing.\n   * `\"fit\"` is only supported for single and layered views that don't use `rangeStep`.\n   *\n   * __Default value__: `pad`\n   */\n  autosize?: AutosizeType | AutoSizeParams;\n}\n\nexport type AutosizeType = 'pad' | 'fit' | 'none';\n\nexport interface AutoSizeParams {\n  /**\n   * The sizing format type. One of `\"pad\"`, `\"fit\"` or `\"none\"`. See the [autosize type](https://vega.github.io/vega-lite/docs/size.html#autosize) documentation for descriptions of each.\n   *\n   * __Default value__: `\"pad\"`\n   */\n  type?: AutosizeType;\n\n  /**\n   * A boolean flag indicating if autosize layout should be re-calculated on every view update.\n   *\n   * __Default value__: `false`\n   */\n  resize?: boolean;\n\n  /**\n   * Determines how size calculation should be performed, one of `\"content\"` or `\"padding\"`. The default setting (`\"content\"`) interprets the width and height settings as the data rectangle (plotting) dimensions, to which padding is then added. In contrast, the `\"padding\"` setting includes the padding within the view size calculations, such that the width and height settings indicate the **total** intended size of the view.\n   *\n   * __Default value__: `\"content\"`\n   */\n  contains?: 'content' | 'padding';\n}\n\nfunction _normalizeAutoSize(autosize: AutosizeType | AutoSizeParams) {\n  return isString(autosize) ? {type: autosize} : autosize || {};\n}\n\nexport function normalizeAutoSize(\n  topLevelAutosize: AutosizeType | AutoSizeParams,\n  configAutosize: AutosizeType | AutoSizeParams,\n  isUnitOrLayer: boolean = true\n): AutoSizeParams {\n  const autosize: AutoSizeParams = {\n    type: 'pad',\n    ..._normalizeAutoSize(configAutosize),\n    ..._normalizeAutoSize(topLevelAutosize)\n  };\n\n  if (autosize.type === 'fit') {\n    if (!isUnitOrLayer) {\n      log.warn(log.message.FIT_NON_SINGLE);\n      autosize.type = 'pad';\n    }\n  }\n\n  return autosize;\n}\n\nconst TOP_LEVEL_PROPERTIES: (keyof TopLevelProperties)[] = [\n  'background',\n  'padding'\n  // We do not include \"autosize\" here as it is supported by only unit and layer specs and thus need to be normalized\n];\n\nexport function extractTopLevelProperties<T extends TopLevelProperties>(t: T) {\n  return TOP_LEVEL_PROPERTIES.reduce((o, p) => {\n    if (t && t[p] !== undefined) {\n      o[p] = t[p];\n    }\n    return o;\n  }, {});\n}\n"},"lineCount":null}},"error":null,"hash":"0881d1ff5f509028caf30d462241a194","cacheData":{"env":{}}}